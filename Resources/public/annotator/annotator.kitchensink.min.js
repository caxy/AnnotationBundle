/*
** Annotator v1.2.7
** https://github.com/okfn/annotator/
**
** Copyright 2012 Aron Carroll, Rufus Pollock, and Nick Stenning.
** Dual licensed under the MIT and GPLv3 licenses.
** https://github.com/okfn/annotator/blob/master/LICENSE
**
** Built at: 2013-06-27 21:49:33Z
*/((function(){var a={}.hasOwnProperty,b=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};Annotator.prototype.setupPlugins=function(c,d){var e,f,g,h,i,j,k,l,m;c==null&&(c={}),d==null&&(d={}),j=Annotator.Util.getGlobal(),h=["Unsupported","Auth","Tags","Filter","Store","AnnotateItPermissions"],j.Showdown&&h.push("Markdown"),i=j.location.href.split(/#|\?/).shift()||"",g={Tags:{},Filter:{filters:[{label:Annotator._t("User"),property:"user"},{label:Annotator._t("Tags"),property:"tags"}]},Auth:{tokenUrl:c.tokenUrl||"http://annotateit.org/api/token"},Store:{prefix:c.storeUrl||"http://annotateit.org/api",annotationData:{uri:i},loadFromSearch:{uri:i}}};for(e in d){if(!a.call(d,e))continue;f=d[e],b.call(h,e)<0&&h.push(e)}$.extend(!0,g,d),m=[];for(k=0,l=h.length;k<l;k++)e=h[k],e in g&&!g[e]?m.push(void 0):m.push(this.addPlugin(e,g[e]));return m}})).call(this);